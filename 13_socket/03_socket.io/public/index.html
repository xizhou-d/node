<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button>发送数据到服务器</button>
    <script src="https://cdn.bootcdn.net/ajax/libs/socket.io/4.7.2/socket.io.js"></script>
    <script>
        const socket = io.connect()
        document.querySelector('button').onclick = function() {
            socket.emit("msg", 'msg from client.')
        }

        // 监听服务端发过来的消息
        socket.on('test', chunk => {
            console.log(chunk.toString('utf-8'))
        })

        // 监听连接关闭
        socket.on('disconnect', () => {
            console.log('client listen closed')
        })

    </script>
</body>
</html>